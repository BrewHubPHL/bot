# Snyk policy file
# https://docs.snyk.io/snyk-cli/commands/policy
version: v1.25.0

exclude:
  global:
    - snyk-results.json
    - node_modules/**
    - .scannerwork/**
    - local-server.js

# Ignore false positives for Supabase Anon Keys (public by design)
ignore:
  'javascript/HardcodedNonCryptoSecret':
    - 'public/js/auth.js':
        reason: 'Supabase Anon Key is public by design - not a secret'
        expires: 2027-02-10T00:00:00.000Z
    - 'public/login.html':
        reason: 'Supabase Anon Key is public by design - not a secret'
        expires: 2027-02-10T00:00:00.000Z
    - 'public/portal.html':
        reason: 'Supabase Anon Key is public by design - not a secret'
        expires: 2027-02-10T00:00:00.000Z
    - 'rewards/index.html':
        reason: 'Supabase Anon Key is public by design - not a secret'
        expires: 2027-02-10T00:00:00.000Z
  'javascript/DOMXSS':
    - 'public/shop.html':
        reason: 'All user input is sanitized via escapeHtml() before innerHTML'
        expires: 2027-02-10T00:00:00.000Z
